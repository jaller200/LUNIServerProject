<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RakNet: MessageFilter Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>MessageFilter Class Reference<br>
<small>
[<a class="el" href="group__MESSAGEFILTER__GROUP.html">MessageFilter</a>]</small>
</h1><!-- doxytag: class="MessageFilter" --><!-- doxytag: inherits="PluginInterface" -->Assigns systems to FilterSets. Each FilterSet limits what kinds of messages are allowed. The <a class="el" href="classMessageFilter.html">MessageFilter</a> plugin is used for security where you limit what systems can send what kind of messages. You implicitly define FilterSets, and add allowed message IDs and RPC calls to these FilterSets. You then add systems to these filters, such that those systems are limited to sending what the filters allows. You can automatically assign systems to a filter. You can automatically kick and possibly ban users that stay in a filter too long, or send the wrong message. Each system is a member of either zero or one filters. Add this plugin before any plugin you wish to filter (most likely just add this plugin before any other).  
<a href="#_details">More...</a>
<p>
<code>#include &lt;MessageFilter.h&gt;</code>
<p>
<p>Inheritance diagram for MessageFilter:
<p><center><img src="classMessageFilter.png" usemap="#MessageFilter_map" border="0" alt=""></center>
<map name="MessageFilter_map">
<area href="classPluginInterface.html" alt="PluginInterface" shape="rect" coords="0,0,97,24">
</map>
<a href="classMessageFilter-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#facf43f2c24a07f075efcea2bc4584f3">SetAutoAddNewConnectionsToFilter</a> (int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#6dbcef3f8bc07e0a85ce464080084cbb">SetAllowMessageID</a> (bool allow, int messageIDStart, int messageIDEnd, int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#99631012efa529ae9871c538cfc36ea1">SetAllowRPC</a> (bool allow, const char *functionName, int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#973c5f24c496a0f28986cbe2a22629ac">SetActionOnDisallowedMessage</a> (bool kickOnDisallowed, bool banOnDisallowed, RakNetTime banTimeMS, int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#8e29adc3de287846c3297ebf902e3d90">SetDisallowedMessageCallback</a> (int filterSetID, void *userData, void(*invalidMessageCallback)(<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress, int filterSetID, void *userData, unsigned char messageID))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#3fedbb1f8ea198ad23f8f38cdb407282">SetTimeoutCallback</a> (int filterSetID, void *userData, void(*invalidMessageCallback)(<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress, int filterSetID, void *userData))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#4a72beb3c7f4fed0e7c0f3458d988295">SetFilterMaxTime</a> (int allowedTimeMS, bool banOnExceed, RakNetTime banTimeMS, int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#dab514d7868ca9ab9cd4e99aa331d19a">GetSystemFilterSet</a> (<a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#dbea4c479cd049b8847fda865e6465ab">SetSystemFilterSet</a> (<a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress, int filterSetID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#71c6c82480b38781fb8fe5bb613ed63d">GetSystemCount</a> (int filterSetID) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#0eec652eab64d8b92f339bc0135de786">GetSystemByIndex</a> (int filterSetID, unsigned index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#74275d90d0399111b1623faef808cee4">GetFilterSetCount</a> (void) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#95ca960865ce08b9c6b881e7088ed91f">GetFilterSetIDByIndex</a> (unsigned index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#ec59de57d8995e3e66eea414b1347926">DeleteFilterSet</a> (int filterSetID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>The ID of the filter set to delete. </td></tr>
  </table>
</dl>
 <a href="#ec59de57d8995e3e66eea414b1347926"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#2c9cc0282c4780eb1001df23dc09f537">OnAttach</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#909852454acd985c1aaba1d1d011305b">OnDetach</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#dcb7b0afe39075b2ceeb77b3340684ec">OnShutdown</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#40dc7e67925ce8274410843699eceb16">Update</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PluginReceiveResult&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#b0e73dc8a214e9470f02d764808de1ad">OnReceive</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structPacket.html">Packet</a> *packet)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMessageFilter.html#321f85f34737527774c7ad7784dd5dd4">OnCloseConnection</a> (<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Assigns systems to FilterSets. Each FilterSet limits what kinds of messages are allowed. The <a class="el" href="classMessageFilter.html">MessageFilter</a> plugin is used for security where you limit what systems can send what kind of messages. You implicitly define FilterSets, and add allowed message IDs and RPC calls to these FilterSets. You then add systems to these filters, such that those systems are limited to sending what the filters allows. You can automatically assign systems to a filter. You can automatically kick and possibly ban users that stay in a filter too long, or send the wrong message. Each system is a member of either zero or one filters. Add this plugin before any plugin you wish to filter (most likely just add this plugin before any other). 
<p>

<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="facf43f2c24a07f075efcea2bc4584f3"></a><!-- doxytag: member="MessageFilter::SetAutoAddNewConnectionsToFilter" ref="facf43f2c24a07f075efcea2bc4584f3" args="(int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetAutoAddNewConnectionsToFilter           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Automatically add all new systems to a particular filter Defaults to -1 <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>Which filter to add new systems to. &lt;0 for do not add. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="6dbcef3f8bc07e0a85ce464080084cbb"></a><!-- doxytag: member="MessageFilter::SetAllowMessageID" ref="6dbcef3f8bc07e0a85ce464080084cbb" args="(bool allow, int messageIDStart, int messageIDEnd, int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetAllowMessageID           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>messageIDStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>messageIDEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allow a range of message IDs Always allowed by default: ID_CONNECTION_REQUEST_ACCEPTED through ID_DOWNLOAD_PROGRESS Usually you specify a range to make it easier to add new enumerations without having to constantly refer back to this function. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>allow</em>&nbsp;</td><td>True to allow this message ID, false to disallow. By default, all messageIDs except the noted types are disallowed. This includes messages from other plugins! </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>messageIDStart</em>&nbsp;</td><td>The first ID_* message to allow in the range. Inclusive. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>messageIDEnd</em>&nbsp;</td><td>The last ID_* message to allow in the range. Inclusive. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="99631012efa529ae9871c538cfc36ea1"></a><!-- doxytag: member="MessageFilter::SetAllowRPC" ref="99631012efa529ae9871c538cfc36ea1" args="(bool allow, const char *functionName, int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetAllowRPC           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>allow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>functionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allow an RPC function, by name <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>allow</em>&nbsp;</td><td>True to allow an RPC call with this function name, false to disallow. All RPCs are disabled by default. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>functionName</em>&nbsp;</td><td>the function name of the RPC call. Must match the function name exactly, including case. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="973c5f24c496a0f28986cbe2a22629ac"></a><!-- doxytag: member="MessageFilter::SetActionOnDisallowedMessage" ref="973c5f24c496a0f28986cbe2a22629ac" args="(bool kickOnDisallowed, bool banOnDisallowed, RakNetTime banTimeMS, int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetActionOnDisallowedMessage           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>kickOnDisallowed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>banOnDisallowed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RakNetTime&nbsp;</td>
          <td class="paramname"> <em>banTimeMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
What action to take on a disallowed message. You can kick or not. You can add them to the ban list for some time By default no action is taken. The message is simply ignored. param[in] 0 for permanent ban, &gt;0 for ban time in milliseconds. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>kickOnDisallowed</em>&nbsp;</td><td>kick the system that sent a disallowed message. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>banOnDisallowed</em>&nbsp;</td><td>ban the system that sent a disallowed message. See <em>banTimeMS</em> for the ban duration </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>banTimeMS</em>&nbsp;</td><td>Passed to the milliseconds parameter of <a class="el" href="classRakPeer.html#8f641435cc9a86c48ad5f105ed4e74ed">RakPeer::AddToBanList</a>. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8e29adc3de287846c3297ebf902e3d90"></a><!-- doxytag: member="MessageFilter::SetDisallowedMessageCallback" ref="8e29adc3de287846c3297ebf902e3d90" args="(int filterSetID, void *userData, void(*invalidMessageCallback)(RakPeerInterface *peer, SystemAddress systemAddress, int filterSetID, void *userData, unsigned char messageID))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetDisallowedMessageCallback           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>userData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress, int filterSetID, void *userData, unsigned char messageID)&nbsp;</td>
          <td class="paramname"> <em>invalidMessageCallback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a user callback to be called on an invalid message for a particular filterSet <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>userData</em>&nbsp;</td><td>A pointer passed with the callback </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>invalidMessageCallback</em>&nbsp;</td><td>A pointer to a C function to be called back with the specified parameters. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="3fedbb1f8ea198ad23f8f38cdb407282"></a><!-- doxytag: member="MessageFilter::SetTimeoutCallback" ref="3fedbb1f8ea198ad23f8f38cdb407282" args="(int filterSetID, void *userData, void(*invalidMessageCallback)(RakPeerInterface *peer, SystemAddress systemAddress, int filterSetID, void *userData))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetTimeoutCallback           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>userData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(<a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *peer, <a class="el" href="structSystemAddress.html">SystemAddress</a> systemAddress, int filterSetID, void *userData)&nbsp;</td>
          <td class="paramname"> <em>invalidMessageCallback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set a user callback to be called when a user is disconnected due to SetFilterMaxTime <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>userData</em>&nbsp;</td><td>A pointer passed with the callback </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>invalidMessageCallback</em>&nbsp;</td><td>A pointer to a C function to be called back with the specified parameters. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4a72beb3c7f4fed0e7c0f3458d988295"></a><!-- doxytag: member="MessageFilter::SetFilterMaxTime" ref="4a72beb3c7f4fed0e7c0f3458d988295" args="(int allowedTimeMS, bool banOnExceed, RakNetTime banTimeMS, int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetFilterMaxTime           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>allowedTimeMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>banOnExceed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RakNetTime&nbsp;</td>
          <td class="paramname"> <em>banTimeMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Limit how long a connection can stay in a particular filterSetID. After this time, the connection is kicked and possibly banned. By default there is no limit to how long a connection can stay in a particular filter set. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>allowedTimeMS</em>&nbsp;</td><td>How many milliseconds to allow a connection to stay in this filter set. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>banOnExceed</em>&nbsp;</td><td>True or false to ban the system, or not, when <em>allowedTimeMS</em> is exceeded </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>banTimeMS</em>&nbsp;</td><td>Passed to the milliseconds parameter of <a class="el" href="classRakPeer.html#8f641435cc9a86c48ad5f105ed4e74ed">RakPeer::AddToBanList</a>. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dab514d7868ca9ab9cd4e99aa331d19a"></a><!-- doxytag: member="MessageFilter::GetSystemFilterSet" ref="dab514d7868ca9ab9cd4e99aa331d19a" args="(SystemAddress systemAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MessageFilter::GetSystemFilterSet           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the filterSetID a system is using. Returns -1 for none. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system we are referring to </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dbea4c479cd049b8847fda865e6465ab"></a><!-- doxytag: member="MessageFilter::SetSystemFilterSet" ref="dbea4c479cd049b8847fda865e6465ab" args="(SystemAddress systemAddress, int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::SetSystemFilterSet           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assign a system to a filter set. Systems are automatically added to filter sets (or not) based on <a class="el" href="classMessageFilter.html#facf43f2c24a07f075efcea2bc4584f3">SetAutoAddNewConnectionsToFilter()</a> This function is used to change the filter set a system is using, to add it to a new filter set, or to remove it from all existin filter sets. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system we are referring to </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>A user defined ID to represent a filter set. If no filter with this ID exists, one will be created with default settings. If -1, the system will be removed from all filter sets. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="71c6c82480b38781fb8fe5bb613ed63d"></a><!-- doxytag: member="MessageFilter::GetSystemCount" ref="71c6c82480b38781fb8fe5bb613ed63d" args="(int filterSetID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned MessageFilter::GetSystemCount           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the number of systems subscribed to a particular filter set Using anything other than -1 for <em>filterSetID</em> is slow, so you should store the returned value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>The filter set to limit to. Use -1 for none (just returns the total number of filter systems in that case). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0eec652eab64d8b92f339bc0135de786"></a><!-- doxytag: member="MessageFilter::GetSystemByIndex" ref="0eec652eab64d8b92f339bc0135de786" args="(int filterSetID, unsigned index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSystemAddress.html">SystemAddress</a> MessageFilter::GetSystemByIndex           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a system subscribed to a particular filter set,by index. index should be between 0 and the GetSystemCount(filterSetID)-1; <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>The filter set to limit to. Use -1 for none (just indexes all the filtered systems in that case). </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>A number between 0 and GetSystemCount(filterSetID)-1; </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="74275d90d0399111b1623faef808cee4"></a><!-- doxytag: member="MessageFilter::GetFilterSetCount" ref="74275d90d0399111b1623faef808cee4" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned MessageFilter::GetFilterSetCount           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the total number of filter sets. <dl class="return" compact><dt><b>Returns:</b></dt><dd>The total number of filter sets. </dd></dl>

</div>
</div><p>
<a class="anchor" name="95ca960865ce08b9c6b881e7088ed91f"></a><!-- doxytag: member="MessageFilter::GetFilterSetIDByIndex" ref="95ca960865ce08b9c6b881e7088ed91f" args="(unsigned index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MessageFilter::GetFilterSetIDByIndex           </td>
          <td>(</td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the ID of a filter set, by index <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>An</em>&nbsp;</td><td>index between 0 and <a class="el" href="classMessageFilter.html#74275d90d0399111b1623faef808cee4">GetFilterSetCount()</a>-1 inclusive </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ec59de57d8995e3e66eea414b1347926"></a><!-- doxytag: member="MessageFilter::DeleteFilterSet" ref="ec59de57d8995e3e66eea414b1347926" args="(int filterSetID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::DeleteFilterSet           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>filterSetID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>filterSetID</em>&nbsp;</td><td>The ID of the filter set to delete. </td></tr>
  </table>
</dl>

<p>
Delete a FilterSet. All systems formerly subscribed to this filter are now unrestricted. 
</div>
</div><p>
<a class="anchor" name="2c9cc0282c4780eb1001df23dc09f537"></a><!-- doxytag: member="MessageFilter::OnAttach" ref="2c9cc0282c4780eb1001df23dc09f537" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::OnAttach           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the interface is attached <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#9124155ea27bf6c50801350d21173d68">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="909852454acd985c1aaba1d1d011305b"></a><!-- doxytag: member="MessageFilter::OnDetach" ref="909852454acd985c1aaba1d1d011305b" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::OnDetach           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when the interface is detached <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#700cfa399500e04eeb54aa5fe1f14c95">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="dcb7b0afe39075b2ceeb77b3340684ec"></a><!-- doxytag: member="MessageFilter::OnShutdown" ref="dcb7b0afe39075b2ceeb77b3340684ec" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::OnShutdown           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when <a class="el" href="classRakPeer.html">RakPeer</a> is shutdown <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#0983119975a8bb9c726b8a006c089dc2">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="40dc7e67925ce8274410843699eceb16"></a><!-- doxytag: member="MessageFilter::Update" ref="40dc7e67925ce8274410843699eceb16" args="(RakPeerInterface *peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::Update           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Update is called every time a packet is checked for . <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>- the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#5966e72f872ebd754b44770ecc981bd9">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="b0e73dc8a214e9470f02d764808de1ad"></a><!-- doxytag: member="MessageFilter::OnReceive" ref="b0e73dc8a214e9470f02d764808de1ad" args="(RakPeerInterface *peer, Packet *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PluginReceiveResult MessageFilter::OnReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPacket.html">Packet</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
OnReceive is called for every packet. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>packet</em>&nbsp;</td><td>the packet that is being returned to the user </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True to allow the game and other plugins to get this message, false to absorb it </dd></dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#633dcfc264e4309c41f0cfeb84b4840a">PluginInterface</a>.
</div>
</div><p>
<a class="anchor" name="321f85f34737527774c7ad7784dd5dd4"></a><!-- doxytag: member="MessageFilter::OnCloseConnection" ref="321f85f34737527774c7ad7784dd5dd4" args="(RakPeerInterface *peer, SystemAddress systemAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MessageFilter::OnCloseConnection           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRakPeerInterface.html">RakPeerInterface</a> *&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSystemAddress.html">SystemAddress</a>&nbsp;</td>
          <td class="paramname"> <em>systemAddress</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when a connection is dropped because the user called <a class="el" href="classRakPeer.html#05e43a9ba3b85f1000adb2f1e9551000">RakPeer::CloseConnection()</a> for a particular system <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>peer</em>&nbsp;</td><td>the instance of <a class="el" href="classRakPeer.html">RakPeer</a> that is calling Receive </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>systemAddress</em>&nbsp;</td><td>The system whose connection was closed </td></tr>
  </table>
</dl>

<p>
Reimplemented from <a class="el" href="classPluginInterface.html#da6d76a81fb6ea6dd8422c3ed5c9baff">PluginInterface</a>.
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/RakNet/Source/<a class="el" href="MessageFilter_8h.html">MessageFilter.h</a><li>C:/RakNet/Source/MessageFilter.cpp</ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun Jul 27 15:10:18 2008 for RakNet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
